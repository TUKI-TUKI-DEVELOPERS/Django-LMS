{% extends 'base.html' %}
{% load i18n %}
{% block title %}{{ course }} | Sistema de Gestión Académica{% endblock title %}
{% load static %}

{% block content %}
<link rel="stylesheet" href="{% static 'css/course-2025.css' %}">

<style>
	/* Modern Course Detail Styles 2025 */
	:root {
		--gray-dark: rgb(69, 69, 69);
		--lime-green: rgb(146, 182, 42);
		--lime-green-dark: #7a9a2a;
		--navy-blue: rgb(32, 32, 68);
		--dark-red: rgb(159, 8, 31);
		--mustard-yellow: rgb(226, 210, 41);
		--shadow-soft: 0 8px 32px rgba(0,0,0,0.08);
	}

	/* Page background with transparency */
	body {
		background: url('{% static "img/pic-8.png" %}') center/cover no-repeat fixed;
		background-attachment: fixed;
	}

	/* Hero Section with Course Image - More compact */
  .course-hero {
		position: relative;
		height: 260px;
		overflow: hidden;
		border-radius: 12px;
		margin-bottom: 1rem;
		box-shadow: 0 4px 12px rgba(0,0,0,0.08);
	}
  @media (max-width: 576px){ .course-hero { height: 220px; } }
  @media (max-width: 576px){ .course-hero-title { font-size: 1.4rem; } .course-hero-subtitle { font-size: .9rem; } }

	.course-hero-image {
		width: 100%;
		height: 100%;
		object-fit: cover;
		position: relative;
	}

    .course-hero-overlay {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background: linear-gradient(180deg, rgba(32,32,68,0.55) 0%, rgba(32,32,68,0.40) 45%, rgba(69,69,69,0.25) 100%);
        backdrop-filter: blur(1px);
        display: flex;
        align-items: center;
        justify-content: center;
    }

	.course-hero-placeholder {
		width: 100%;
		height: 100%;
		background: linear-gradient(135deg, var(--navy-blue) 0%, var(--lime-green) 100%);
		display: flex;
		align-items: center;
		justify-content: center;
		color: white;
		font-size: 4rem;
		opacity: 0.8;
	}

    .course-hero-content {
        text-align: left;
        color: #fff;
        z-index: 2;
        padding: 1.5rem 1.25rem;
        width: 100%;
        max-width: 980px;
        margin: 0 auto;
        position: absolute;
        bottom: 0;
        background: linear-gradient(0deg, rgba(0,0,0,0.75) 0%, rgba(0,0,0,0) 100%);
    }

  /* Infobar floating style */
  .course-hero-infobar {
      position: relative;
      width: 100%;
      max-width: 980px;
      margin: -2rem auto 1.5rem;
      background: white;
      border: 1px solid rgba(146,182,42,0.15);
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.08);
      padding: 0.5rem;
      z-index: 3;
  }
  .infobar-grid { 
      display: flex; 
      flex-wrap: wrap;
      gap: 0.5rem; 
      justify-content: center;
  }
  .infobar-chip { 
      display: inline-flex; 
      align-items: center; 
      gap: 0.4rem; 
      font-weight: 600; 
      font-size: 0.85rem;
      color: var(--gray-dark); 
      background: #f8f9fa;
      border: 1px solid #e9ecef;
      border-radius: 6px; 
      padding: 0.35rem 0.6rem;
  }
  .infobar-chip i { 
      color: var(--gray-dark);
      font-size: 0.8rem;
  }
  @media (max-width: 576px){ 
      .course-hero-infobar { 
          margin-top: -1.5rem; 
          padding: 0.4rem; 
      } 
      .infobar-grid { 
          justify-content: flex-start;
          padding: 0 0.25rem;
      } 
  }

    .course-hero-title {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 0.4rem;
        color: #fff;
        -webkit-text-fill-color: initial;
        background: none;
        text-shadow: 0 2px 4px rgba(0,0,0,.2);
        line-height: 1.2;
    }

    .course-hero-subtitle {
        font-size: 0.95rem;
        opacity: 0.9;
        margin-bottom: 0.75rem;
        text-shadow: 0 1px 2px rgba(0,0,0,.15);
        max-width: 600px;
    }

	.course-hero-badges {
		display: flex;
		justify-content: center;
		gap: 1rem;
		flex-wrap: wrap;
	}

    .hero-badge {
        background: rgba(255, 255, 255, 0.92);
        color: var(--navy-blue);
        padding: 0.45rem 0.9rem;
        border-radius: 999px;
        font-size: 0.9rem;
        font-weight: 800;
        backdrop-filter: blur(10px);
        border: 1px solid rgba(146,182,42,0.28);
        box-shadow: 0 4px 14px rgba(0,0,0,.12);
    }

	.course-detail-container {
		background: white;
		max-width: 1200px;
        margin: 0 auto;
        padding: 0 1rem;
	}

	/* Course Info Cards - More compact */
	.course-info-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
		gap: 0.75rem;
		margin-bottom: 1.25rem;
	}

	.info-card {
		background: #f8f9fa;
		border-radius: 8px;
		padding: 0.75rem;
		box-shadow: 0 2px 4px rgba(0,0,0,0.04);
		border: 1px solid #e9ecef;
		transition: all 0.2s ease;
		position: relative;
		display: flex;
		align-items: center;
		gap: 0.75rem;
	}

	.info-card:hover {
		background: white;
		border-color: var(--lime-green);
	}

	.info-card-icon {
		width: 32px;
		height: 32px;
		border-radius: 6px;
		display: flex;
		align-items: center;
		justify-content: center;
		font-size: 0.9rem;
		color: var(--gray-dark);
		background: white;
		border: 1px solid #e9ecef;
		flex-shrink: 0;
	}

	.info-card-content {
		flex: 1;
		min-width: 0;
	}

	/* Keep a single palette for consistency */
	.info-card-icon.credit,
	.info-card-icon.semester,
	.info-card-icon.year,
	.info-card-icon.type { background: linear-gradient(135deg, var(--lime-green), #a8c73a); }

	.info-card-title {
		font-size: 0.85rem;
		font-weight: 800;
		color: var(--gray-dark);
		margin-bottom: 0.4rem;
		text-transform: uppercase;
		letter-spacing: 0.4px;
	}

	.info-card-value {
		font-size: 1.3rem;
		font-weight: 800;
		color: var(--gray-dark);
		margin-bottom: 0;
	}

	/* Professional Course Info */
	.professional-info-section {
		background: linear-gradient(135deg, rgba(146, 182, 42, 0.05) 0%, rgba(32, 32, 68, 0.05) 100%);
		border-radius: 15px;
		padding: 2rem;
		margin-bottom: 2rem;
		border: 1px solid rgba(146, 182, 42, 0.1);
	}

	.professional-grid {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
		gap: 1rem;
		margin-top: 1rem;
	}

	.professional-item {
		display: flex;
		align-items: center;
		gap: 0.75rem;
		padding: 0.75rem;
		background: white;
		border-radius: 10px;
		box-shadow: 0 2px 8px rgba(0,0,0,0.05);
	}

	.professional-item i {
		color: var(--lime-green);
		width: 20px;
		font-size: 1.1rem;
	}

	.professional-item-text {
		font-size: 0.9rem;
		color: var(--navy-blue);
	}

	.professional-item-value {
		font-weight: 600;
		color: var(--lime-green);
	}

	/* Breadcrumb - Elegant */
	.breadcrumb {
		background: transparent;
		padding: 0;
		margin-bottom: 2rem;
	}

	.breadcrumb-item a {
		color: var(--lime-green);
		text-decoration: none;
		font-weight: 600;
		transition: color 0.2s ease;
	}

	.breadcrumb-item a:hover {
		color: #a8c73a;
	}

	.breadcrumb-item.active {
		color: #6c757d;
	}

	/* Course Header */
	.course-header {
		margin-bottom: 2rem;
		padding-bottom: 1.5rem;
		border-bottom: 1px solid rgba(146, 182, 42, 0.1);
	}

	.course-title {
		font-size: 2.5rem;
		font-weight: 700;
		color: var(--navy-blue);
		margin: 0 0 1rem 0;
		background: linear-gradient(135deg, var(--navy-blue) 0%, var(--lime-green) 100%);
		-webkit-background-clip: text;
		-webkit-text-fill-color: transparent;
		background-clip: text;
	}

	.course-summary {
		font-size: 1.1rem;
		color: #6c757d;
		margin: 0;
		line-height: 1.6;
	}

	/* Action Buttons */
  .action-buttons {
		display: flex;
		justify-content: space-between;
		align-items: center;
		margin-bottom: 2rem;
		flex-wrap: wrap;
		gap: 1rem;
	}
  @media (max-width: 768px){ .action-buttons { flex-direction: column; align-items: stretch; } .btn-group-left, .btn-group-right { width: 100%; justify-content: center; } }

	.btn-group-left {
		display: flex;
		gap: 0.5rem;
		flex-wrap: wrap;
	}

	.btn-group-right {
		display: flex;
		gap: 0.5rem;
	}

	.btn-action {
		padding: 0.6rem 1.2rem;
		border-radius: 12px;
		font-weight: 600;
		text-decoration: none;
		transition: all 0.3s ease;
		display: inline-flex;
		align-items: center;
		gap: 0.5rem;
		border: none;
		font-size: 0.9rem;
	}

	.btn-edit {
		background: linear-gradient(135deg, rgba(146, 182, 42, 0.1) 0%, rgba(122, 154, 42, 0.1) 100%);
		color: var(--lime-green);
		border: 1px solid rgba(146, 182, 42, 0.2);
	}

	.btn-edit:hover {
		background: linear-gradient(135deg, rgba(146, 182, 42, 0.2) 0%, rgba(122, 154, 42, 0.2) 100%);
		color: #7a9a2a;
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(146, 182, 42, 0.2);
	}

	.btn-upload {
		background: linear-gradient(135deg, var(--lime-green) 0%, #a8c73a 100%);
		color: white;
		border: none;
	}

	.btn-upload:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(146, 182, 42, 0.3);
		color: white;
	}

	.btn-quiz {
		background: linear-gradient(135deg, var(--mustard-yellow) 0%, #f4d03f 100%);
		color: var(--navy-blue);
		border: none;
	}

	.btn-quiz:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(226, 210, 41, 0.3);
		color: var(--navy-blue);
	}

	/* Section Headers */
	.section-header {
		font-size: 1.8rem;
		font-weight: 600;
		color: var(--navy-blue);
		margin-bottom: 1.5rem;
		display: flex;
		align-items: center;
		gap: 0.8rem;
	}

	.section-header i {
		color: var(--lime-green);
	}

	/* Content Cards */
  .content-card { background: rgba(255,255,255,0.98); border: 1px solid rgba(146,182,42,0.1); border-radius: 16px; box-shadow: 0 4px 20px rgba(0,0,0,0.06); padding: 1.1rem; margin-bottom: 1.25rem; transition: all 0.3s ease; position: relative; overflow: hidden; }

	.content-card::before {
		content: '';
		position: absolute;
		top: 0;
		left: 0;
		right: 0;
		height: 3px;
		background: linear-gradient(135deg, var(--lime-green) 0%, #a8c73a 100%);
		opacity: 1;
	}

	.content-card:hover {
		transform: translateY(-2px);
		box-shadow: 0 8px 32px rgba(146, 182, 42, 0.15);
		border-color: rgba(146, 182, 42, 0.3);
	}

	/* Table Styling */
	.table {
		border-radius: 12px;
		overflow: hidden;
		box-shadow: 0 4px 20px rgba(0,0,0,0.06);
	}

	.table thead {
		background: rgba(146, 182, 42, 0.08);
		color: var(--gray-dark);
	}

	.table thead th {
		border: none;
		padding: 0.9rem;
		font-weight: 800;
		font-size: 0.85rem;
		text-transform: uppercase;
		letter-spacing: 0.5px;
	}

	.table tbody tr {
		transition: all 0.2s ease;
	}

	.table tbody tr:hover {
		background: rgba(146, 182, 42, 0.05);
	}

	.table tbody td {
		padding: 0.9rem;
		border: none;
		border-bottom: 1px solid rgba(146, 182, 42, 0.1);
		vertical-align: middle;
	}

	/* File/Video Links */
	.content-link {
		color: var(--lime-green);
		text-decoration: none;
		font-weight: 500;
		transition: color 0.3s ease;
		display: flex;
		align-items: center;
		gap: 0.5rem;
	}

	.content-link:hover {
		color: #7a9a2a;
		text-decoration: none;
	}

	/* Download/Play Buttons */
	.btn-download {
		background: linear-gradient(135deg, rgba(146, 182, 42, 0.1) 0%, rgba(122, 154, 42, 0.1) 100%);
		color: var(--lime-green);
		border: 1px solid rgba(146, 182, 42, 0.2);
		padding: 0.4rem 0.8rem;
		border-radius: 8px;
		text-decoration: none;
		transition: all 0.3s ease;
		display: inline-flex;
		align-items: center;
		gap: 0.3rem;
		font-size: 0.85rem;
		font-weight: 600;
	}

	.btn-download:hover {
		background: linear-gradient(135deg, rgba(146, 182, 42, 0.2) 0%, rgba(122, 154, 42, 0.2) 100%);
		color: #7a9a2a;
		transform: translateY(-1px);
		box-shadow: 0 2px 8px rgba(146, 182, 42, 0.2);
		text-decoration: none;
	}

	/* Action Icons */
	.action-icons {
		display: flex;
		gap: 0.5rem;
	}

	.btn-icon {
		width: 32px;
		height: 32px;
		border-radius: 8px;
		display: flex;
		align-items: center;
		justify-content: center;
		text-decoration: none;
		transition: all 0.3s ease;
		font-size: 0.9rem;
	}

	.btn-edit-icon {
		background: linear-gradient(135deg, rgba(146, 182, 42, 0.1) 0%, rgba(122, 154, 42, 0.1) 100%);
		color: var(--lime-green);
		border: 1px solid rgba(146, 182, 42, 0.2);
	}

	.btn-edit-icon:hover {
		background: linear-gradient(135deg, rgba(146, 182, 42, 0.2) 0%, rgba(122, 154, 42, 0.2) 100%);
		color: #7a9a2a;
		transform: translateY(-1px);
		box-shadow: 0 2px 8px rgba(146, 182, 42, 0.2);
	}

	.btn-delete-icon {
		background: linear-gradient(135deg, rgba(220, 53, 69, 0.1) 0%, rgba(200, 35, 51, 0.1) 100%);
		color: #dc3545;
		border: 1px solid rgba(220, 53, 69, 0.2);
	}

	.btn-delete-icon:hover {
		background: linear-gradient(135deg, rgba(220, 53, 69, 0.2) 0%, rgba(200, 35, 51, 0.2) 100%);
		color: #c82333;
		transform: translateY(-1px);
		box-shadow: 0 2px 8px rgba(220, 53, 69, 0.2);
	}

	/* Empty State */
	.empty-state {
		text-align: center;
		padding: 3rem 2rem;
		color: #6c757d;
		background: rgba(255, 255, 255, 0.9);
		border-radius: 16px;
		backdrop-filter: blur(10px);
		margin: 1rem 0;
	}

	.empty-state i {
		font-size: 2.5rem;
		margin-bottom: 1rem;
		color: #dee2e6;
	}

	.empty-state h5 {
		font-weight: 500;
		margin-bottom: 0.5rem;
		color: var(--navy-blue);
	}

	.empty-state p {
		font-size: 0.95rem;
		margin: 0;
	}

	.empty-state a {
		color: var(--lime-green);
		text-decoration: none;
		font-weight: 600;
		transition: color 0.3s ease;
	}

	.empty-state a:hover {
		color: #a8c73a;
	}

	/* Lecturer Section */
	.lecturer-section {
		margin-top: 3rem;
	}

	.lecturer-card {
		background: rgba(255, 255, 255, 0.98);
		border: 1px solid rgba(146, 182, 42, 0.1);
		border-radius: 16px;
		box-shadow: 0 4px 20px rgba(0,0,0,0.06);
		padding: 2rem;
		text-align: center;
		transition: all 0.3s ease;
		height: 100%;
	}

	.lecturer-card:hover {
		transform: translateY(-4px);
		box-shadow: 0 8px 32px rgba(146, 182, 42, 0.15);
		border-color: rgba(146, 182, 42, 0.3);
	}

	.lecturer-avatar {
		width: 80px;
		height: 80px;
		border-radius: 50%;
		object-fit: cover;
		margin-bottom: 1rem;
		border: 3px solid var(--lime-green);
	}

	.lecturer-name {
		font-size: 1.2rem;
		font-weight: 600;
		color: var(--navy-blue);
		margin-bottom: 0.5rem;
	}

	.lecturer-email {
		color: var(--lime-green);
		font-weight: 500;
		margin-bottom: 1rem;
	}

	.lecturer-bio {
		color: #6c757d;
		font-size: 0.9rem;
		line-height: 1.5;
		margin-bottom: 1.5rem;
	}

	.social-links {
		display: flex;
		justify-content: center;
		gap: 0.5rem;
	}

	.btn-social {
		width: 36px;
		height: 36px;
		border-radius: 50%;
		display: flex;
		align-items: center;
		justify-content: center;
		background: linear-gradient(135deg, var(--lime-green) 0%, #a8c73a 100%);
		color: white;
		text-decoration: none;
		transition: all 0.3s ease;
	}

	.btn-social:hover {
		transform: translateY(-2px);
		box-shadow: 0 4px 12px rgba(146, 182, 42, 0.3);
		color: white;
	}

	/* Responsive */
	@media (max-width: 768px) {
		.course-hero {
			height: 300px;
			margin-bottom: 1rem;
		}
		
		.course-hero-title {
			font-size: 2rem;
		}
		
		.course-hero-subtitle {
			font-size: 1rem;
		}
		
		.course-hero-badges {
			flex-direction: column;
			align-items: center;
		}
		
		.course-detail-container {
			margin: 0.5rem;
			padding: 1rem;
		}
		
		.course-title {
			font-size: 2rem;
		}
		
		.action-buttons {
			flex-direction: column;
			align-items: stretch;
		}
		
		.btn-group-left, .btn-group-right {
			justify-content: center;
		}
		
		.content-card {
			padding: 1rem;
		}
		
		.table-responsive {
			font-size: 0.9rem;
		}
		
		.course-info-grid {
			grid-template-columns: 1fr;
		}
		
		.professional-grid {
			grid-template-columns: 1fr;
		}
	}
</style>
<style>
  /* Unified white + lime skin overrides for course pages */
  :root { --lime-green: rgb(146, 182, 42); --lime-green-dark: #7a9a2a; }
  body { background: url('{% static "img/pic-8.png" %}') center/cover no-repeat fixed; background-attachment: fixed; }
  .form-control, .form-select,
  input[type="text"], input[type="email"], input[type="tel"], textarea, select { border: 1px solid rgba(146,182,42,0.2); border-radius: 10px; padding: 0.65rem 0.9rem; background: rgba(255,255,255,0.95); transition: all 0.2s ease; }
  .form-control:focus, .form-select:focus,
  input[type="text"]:focus, input[type="email"]:focus, input[type="tel"]:focus, textarea:focus, select:focus { outline: none; border-color: var(--lime-green); box-shadow: 0 0 0 3px rgba(146,182,42,0.12); }
  .btn-action, .btn-upload, .btn-quiz { border: none !important; }
  .btn-upload { background: linear-gradient(135deg, var(--lime-green) 0%, var(--lime-green-dark) 100%) !important; color: #fff !important; }
  .btn-quiz { background: linear-gradient(135deg, var(--lime-green) 0%, #a8c73a 100%) !important; color: #fff !important; }
  .btn-upload:hover, .btn-quiz:hover { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(146,182,42,0.22); }
  .breadcrumb-item a { color: var(--lime-green) !important; }
  .breadcrumb-item a:hover { color: var(--lime-green-dark) !important; }
</style>

<div class="course-detail-container">
	<nav style="--bs-breadcrumb-divider: '>';" aria-label="breadcrumb">
		<ol class="breadcrumb">
			<li class="breadcrumb-item"><a href="/">Inicio</a></li>
			{% if request.user.is_student %}
			<li class="breadcrumb-item"><a href="{% url 'course:user_course_list' %}">Mis Cursos</a></li>
			{% else %}
			<li class="breadcrumb-item"><a href="{% url 'course:programs' %}">Programas</a></li>
			{% endif %}
			<li class="breadcrumb-item"><a href="{% url 'course:program_detail' course.program.id %}">{{ course.program }}</a></li>
			<li class="breadcrumb-item active" aria-current="page">{{ course }}</li>
		</ol>
	</nav>

	<div class="course-hero">
		{% if course.image %}
			<img src="{{ course.image.url }}" alt="{{ course }}" class="course-hero-image">
		{% else %}
			<div class="course-hero-placeholder">
				<i class="fas fa-book-open"></i>
			</div>
		{% endif %}
		<div class="course-hero-overlay">
			<div class="course-hero-content">
				<h1 class="course-hero-title">{{ course }}</h1>
				<p class="course-hero-subtitle">{{ course.summary }}</p>
          <!-- badges removidos para evitar duplicado con infobar -->
			</div>
      <!-- Infobar fija -->
      <div class="course-hero-infobar">
        <div class="infobar-grid">
          <div class="infobar-chip"><i class="fas fa-graduation-cap"></i><span>{{ course.credit }} créditos</span></div>
          <div class="infobar-chip"><i class="fas fa-calendar-alt"></i><span>{{ course.semester }} semestre</span></div>
          <div class="infobar-chip"><i class="fas fa-calendar"></i><span>Año {{ course.year }}</span></div>
          <div class="infobar-chip"><i class="fas fa-layer-group"></i><span>{% if course.is_elective %}Electivo{% else %}Obligatorio{% endif %}</span></div>
        </div>
      </div>
		</div>
	</div>

	<!-- Course Info Cards -->
	<div class="course-info-grid">
		<div class="info-card">
			<div class="info-card-icon">
				<i class="fas fa-graduation-cap"></i>
			</div>
			<div class="info-card-content">
				<div class="info-card-title">Créditos</div>
				<div class="info-card-value">{{ course.credit }}</div>
			</div>
		</div>
		
		<div class="info-card">
			<div class="info-card-icon">
				<i class="fas fa-calendar-alt"></i>
			</div>
			<div class="info-card-content">
				<div class="info-card-title">Semestre</div>
				<div class="info-card-value">{{ course.semester }}</div>
			</div>
		</div>
		
		<div class="info-card">
			<div class="info-card-icon year">
				<i class="fas fa-calendar"></i>
			</div>
			<div class="info-card-title">Año</div>
			<div class="info-card-value">{{ course.year }}</div>
		</div>
		
		<div class="info-card">
			<div class="info-card-icon type">
				<i class="fas fa-book"></i>
			</div>
			<div class="info-card-title">Tipo</div>
			<div class="info-card-value">{% if course.is_elective %}Electivo{% else %}Obligatorio{% endif %}</div>
		</div>
	</div>

	<!-- Professional Course Information -->
	{% if course.duration or course.modality or course.category or course.certification or course.max_students %}
	<div class="professional-info-section">
		<h3 class="section-header">
			<i class="fas fa-info-circle"></i>Información Profesional del Curso
		</h3>
		<div class="professional-grid">
			{% if course.duration and course.duration_unit %}
			<div class="professional-item">
				<i class="fas fa-clock"></i>
				<div>
					<div class="professional-item-text">Duración</div>
					<div class="professional-item-value">{{ course.duration }} {{ course.get_duration_unit_display }}</div>
				</div>
			</div>
			{% endif %}
			
			{% if course.modality %}
			<div class="professional-item">
				<i class="fas fa-users"></i>
				<div>
					<div class="professional-item-text">Modalidad</div>
					<div class="professional-item-value">{{ course.get_modality_display }}</div>
				</div>
			</div>
			{% endif %}
			
			{% if course.category %}
			<div class="professional-item">
				<i class="fas fa-tag"></i>
				<div>
					<div class="professional-item-text">Categoría</div>
					<div class="professional-item-value">{{ course.get_category_display }}</div>
				</div>
			</div>
			{% endif %}
			
			{% if course.max_students %}
			<div class="professional-item">
				<i class="fas fa-user-graduate"></i>
				<div>
					<div class="professional-item-text">Máximo Estudiantes</div>
					<div class="professional-item-value">{{ course.max_students }}</div>
				</div>
			</div>
			{% endif %}
			
			{% if course.certification %}
			<div class="professional-item">
				<i class="fas fa-certificate"></i>
				<div>
					<div class="professional-item-text">Certificación</div>
					<div class="professional-item-value">Incluida</div>
				</div>
			</div>
			{% endif %}
			
			{% if course.is_active %}
			<div class="professional-item">
				<i class="fas fa-check-circle"></i>
				<div>
					<div class="professional-item-text">Estado</div>
					<div class="professional-item-value">Activo</div>
				</div>
			</div>
			{% endif %}
		</div>
	</div>
	{% endif %}

	<div class="action-buttons">
		<div class="btn-group-left">
			{% if request.user.is_superuser %}
			<a class="btn-action btn-edit" href="{% url 'course:course_edit' course.slug %}">
				<i class="fas fa-pencil-alt"></i> Editar Curso
			</a>
			{% endif %}
			{% if request.user.is_superuser or request.user.is_lecturer %}
			<a class="btn-action btn-upload" href="{% url 'course:upload_video_view' course.slug %}">
				<i class="fas fa-video"></i> Subir Video
			</a>
			{% endif %}
		</div>
		<div class="btn-group-right">
			<a class="btn-action btn-quiz" href="{% url 'course:course_modules' course.slug %}">
				<i class="fas fa-layer-group"></i> Ver Módulos
			</a>
			<a class="btn-action btn-quiz" href="{% url 'quiz:quiz_index' course.slug %}">
				<i class="fas fa-clipboard-list"></i> Exámenes
			</a>
			{% if request.user.is_superuser or request.user.is_lecturer %}
			<a class="btn-action btn-quiz" href="{% url 'quiz:quiz_create' course.slug %}">
				<i class="fas fa-plus-circle"></i> Agregar Examen
			</a>
			{% endif %}
		</div>
	</div>

	{% include 'snippets/messages.html' %}

	<!-- Video Tutorials Section -->
	<div class="content-card">
		<h2 class="section-header">
			<i class="fas fa-video"></i>
			Tutoriales en Video
		</h2>
		
		{% if videos %}
		<div class="table-responsive">
			<table class="table">
				<thead>
					<tr>
						<th>#</th>
						<th>Título del Video</th>
						<th>Fecha de Subida</th>
						<th>Acción</th>
						{% if request.user.is_superuser or request.user.is_lecturer %}
						<th>Acciones</th>
						{% endif %}
					</tr>
				</thead>
				<tbody>
					{% for video in videos %}
					<tr>
						<td>{{ forloop.counter }}</td>
						<td>
							<a href="{{ video.get_absolute_url }}" title="{{ video }}" class="content-link">
								<i class="fas fa-video"></i> {{ video.title|title }}
							</a>
						</td>
						<td>{{ video.timestamp|date }}</td>
						<td>
							<a class="btn-download" href="{{ video.get_absolute_url }}" title="Reproducir video">
								<i class="fas fa-play"></i> Reproducir
							</a>
						</td>
						{% if request.user.is_superuser or request.user.is_lecturer %}
						<td>
							<div class="action-icons">
								<a href="{% url 'course:edit_video_view' slug=course.slug video_slug=video.slug %}" 
								   class="btn-icon btn-edit-icon" title="Editar">
									<i class="fas fa-pencil-alt"></i>
								</a>
								<a href="{% url 'course:delete_video_view' slug=course.slug video_slug=video.slug %}" 
								   class="btn-icon btn-delete-icon" title="Eliminar">
									<i class="fas fa-trash-alt"></i>
								</a>
							</div>
						</td>
						{% endif %}
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		{% else %}
		<div class="empty-state">
			<i class="fas fa-video-slash"></i>
			<h5>No hay Videos Subidos</h5>
			<p>No se han subido videos para este curso aún.</p>
			{% if request.user.is_superuser or request.user.is_lecturer %}
			<p><a href="{% url 'course:upload_video_view' course.slug %}">Subir Video Ahora</a></p>
			{% endif %}
		</div>
		{% endif %}
	</div>

	<!-- Documentation Section -->
	<div class="content-card">
		<h2 class="section-header">
			<i class="fas fa-file-alt"></i>
			Documentación
		</h2>
		
		{% if files %}
		<div class="table-responsive">
			<table class="table">
				<thead>
					<tr>
						<th>#</th>
						<th>Nombre del Archivo</th>
						<th>Fecha de Subida</th>
						<th>Fecha de Actualización</th>
						<th>Descargas</th>
						{% if request.user.is_superuser or request.user.is_lecturer %}
						<th>Acciones</th>
						{% endif %}
					</tr>
				</thead>
				<tbody>
					{% for file in files %}
					<tr>
						<td>{{ forloop.counter }}</td>
						<td>
							<a href="{{ file.file.url }}" title="{{ file }}" class="content-link">
								<i class="fas fa-file-{{ file.get_extension_short }}"></i> {{ file.title|title }}
							</a>
						</td>
						<td>{{ file.upload_time|date }}</td>
						<td>{{ file.updated_date|date }}</td>
						<td>
							<a class="btn-download" href="{{ file.file.url }}" title="Descargar archivo">
								<i class="fas fa-download"></i> Descargar
							</a>
						</td>
						{% if request.user.is_superuser or request.user.is_lecturer %}
						<td>
							<div class="action-icons">
								<a href="{% url 'course:edit_file_view' slug=course.slug file_id=file.pk %}" 
								   class="btn-icon btn-edit-icon" title="Editar">
									<i class="fas fa-pencil-alt"></i>
								</a>
								<a href="{% url 'course:delete_file_view' slug=course.slug file_id=file.pk %}" 
								   class="btn-icon btn-delete-icon" title="Eliminar">
									<i class="fas fa-trash-alt"></i>
								</a>
							</div>
						</td>
						{% endif %}
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
		{% else %}
		<div class="empty-state">
			<i class="fas fa-file-slash"></i>
			<h5>No hay Archivos Subidos</h5>
			<p>No se han subido archivos para este curso aún.</p>
			{% if request.user.is_superuser or request.user.is_lecturer %}
			<p><a href="{% url 'course:upload_file_view' course.slug %}">Subir Archivo Ahora</a></p>
			{% endif %}
		</div>
		{% endif %}
	</div>
</div>

<!-- Lecturers Section -->
<div class="course-detail-container lecturer-section">
	<h2 class="section-header">
		<i class="fas fa-chalkboard-teacher"></i>
		Profesores
	</h2>
	
	{% if lecturers %}
	<div class="row">
		{% for lecturer in lecturers %}
		<div class="col-lg-4 col-md-6 mb-4">
			<div class="lecturer-card">
				{% if lecturer.lecturer.picture %}
				<img class="lecturer-avatar" src="{{ lecturer.lecturer.picture.url }}" alt="{{ lecturer }}">
				{% else %}
				<div class="lecturer-avatar" style="background: linear-gradient(135deg, var(--lime-green) 0%, #a8c73a 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 2rem;">
					<i class="fas fa-user"></i>
				</div>
				{% endif %}
				<h5 class="lecturer-name">{{ lecturer|title }}</h5>
				<p class="lecturer-email">{{ lecturer.lecturer.email }}</p>
				<p class="lecturer-bio">Profesor especializado en este curso con amplia experiencia en la materia.</p>
				<div class="social-links">
					<a href="#" class="btn-social" title="Twitter">
						<i class="fab fa-twitter"></i>
					</a>
					<a href="#" class="btn-social" title="Facebook">
						<i class="fab fa-facebook-f"></i>
					</a>
					<a href="#" class="btn-social" title="LinkedIn">
						<i class="fab fa-linkedin-in"></i>
					</a>
				</div>
			</div>
		</div>
		{% endfor %}
	</div>
	{% else %}
	<div class="empty-state">
		<i class="fas fa-user-slash"></i>
		<h5>No hay Profesores Asignados</h5>
		<p>No se ha asignado ningún profesor a este curso.</p>
	</div>
	{% endif %}
</div>

{% endblock content %}